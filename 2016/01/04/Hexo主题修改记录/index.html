<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Hexo主题修改记录 | APERTURE PSEUDOSCIENCE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="首先感谢
  Litten提供的主题
  yilia。
  这几天花了点儿时间来对主题yilia进行微调。之后还会有一些改动，会在更新栏目里面说明。
  本文主要是用来记录主题修改的过程
  
    (
    主要是脑子不好使
      (:3」∠)
    
    )
  ，如果能给大家起到抛砖引玉的效果那就再好不过了。">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Hexo主题修改记录">
  <meta property="og:url" content="http://meteoritey.github.io/2016/01/04/Hexo主题修改记录/index.html">
  <meta property="og:site_name" content="APERTURE PSEUDOSCIENCE">
  <meta property="og:description" content="首先感谢
  Litten提供的主题
  yilia。
  这几天花了点儿时间来对主题yilia进行微调。之后还会有一些改动，会在更新栏目里面说明。
  本文主要是用来记录主题修改的过程
  
    (
    主要是脑子不好使
      (:3」∠)
    
    )
  ，如果能给大家起到抛砖引玉的效果那就再好不过了。">
  <meta property="og:updated_time" content="2016-01-05T14:55:07.613Z">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Hexo主题修改记录">
  <meta name="twitter:description" content="首先感谢
  Litten提供的主题
  yilia。
  这几天花了点儿时间来对主题yilia进行微调。之后还会有一些改动，会在更新栏目里面说明。
  本文主要是用来记录主题修改的过程
  
    (
    主要是脑子不好使
      (:3」∠)
    
    )
  ，如果能给大家起到抛砖引玉的效果那就再好不过了。">

  <link rel="alternative" href="/atom.xml" title="APERTURE PSEUDOSCIENCE" type="application/atom+xml">

  <link rel="icon" href="/img/Aperture_Science.png">

  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
      <div class="intrude-less">
        <header id="header" class="inner">
          <a href="/" class="profilepic">

            <img lazy-src="/img/head.png" class="js-avatar">

          </a>

          <hgroup>
            <h1 class="header-author">
              <a href="/">MeteoriteY</a>
            </h1>
          </hgroup>

          <p class="header-subtitle">LABORATORY</p>

          <div class="switch-btn">
            <div class="icon">
              <div class="icon-ctn">
                <div class="icon-wrap icon-house" data-idx="0">
                  <div class="birdhouse"></div>
                  <div class="birdhouse_holes"></div>
                </div>
                <div class="icon-wrap icon-ribbon hide" data-idx="1">
                  <div class="ribbon"></div>
                </div>

                <div class="icon-wrap icon-link hide" data-idx="2">
                  <div class="loopback_l"></div>
                  <div class="loopback_r"></div>
                </div>

                <div class="icon-wrap icon-me hide" data-idx="3">
                  <div class="user"></div>
                  <div class="shoulder"></div>
                </div>

              </div>

            </div>
            <div class="tips-box hide">
              <div class="tips-arrow"></div>
              <ul class="tips-inner">
                <li>菜单</li>
                <li>標籤</li>

                <li>友情链接</li>

                <li>關於</li>

              </ul>
            </div>
          </div>

          <div class="switch-area">
            <div class="switch-wrap">
              <section class="switch-part switch-part1">
                <nav class="header-menu">
                  <ul>

                    <li>
                      <a href="/archives">所有文章</a>
                    </li>

                    <li>
                      <a href="/categories/软件笔记">软件笔记</a>
                    </li>

                    <li>
                      <a href="/categories/谈笑风生">谈笑风生</a>
                    </li>

                  </ul>
                </nav>
                <nav class="header-nav">
                  <div class="social">

                    <a class="github" target="_blank" href="https://github.com/MeteoriteY" title="github">github</a>

                    <a class="weibo" target="_blank" href="http://weibo.com/325864479" title="weibo">weibo</a>

                    <a class="twitter" target="_blank" href="https://twitter.com/Pithoi" title="twitter">twitter</a>

                    <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>

                  </div>
                </nav>
              </section>

              <section class="switch-part switch-part2">
                <div class="widget tagcloud" id="js-tagcloud">
                  <a href="/tags/GitHub/" style="font-size: 10px;">GitHub</a>
                  <a href="/tags/Hexo/" style="font-size: 20px;">Hexo</a>
                  <a href="/tags/wiki/" style="font-size: 20px;">wiki</a>
                  <a href="/tags/博客/" style="font-size: 20px;">博客</a>
                  <a href="/tags/建站/" style="font-size: 10px;">建站</a>
                  <a href="/tags/解决办法/" style="font-size: 20px;">解决办法</a>
                  <a href="/tags/随笔/" style="font-size: 20px;">随笔</a>
                </div>
              </section>

              <section class="switch-part switch-part3">
                <div id="js-friends">

                  <a target="_blank" class="main-nav-link switch-friends-link" href="https://droid4.us">Droid4us</a>

                </div>
              </section>

              <section class="switch-part switch-part4">

                <div id="js-aboutme">THE CAKE IS A LIE.</div>
              </section>

            </div>
          </div>
        </header>
      </div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
        <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide">MeteoriteY</h1>
        </div>
        <div class="intrude-less">
          <header id="header" class="inner">
            <div class="profilepic">

              <img lazy-src="/img/head.png" class="js-avatar">

            </div>
            <hgroup>
              <h1 class="header-author">MeteoriteY</h1>
            </hgroup>

            <p class="header-subtitle">LABORATORY</p>

            <nav class="header-menu">
              <ul>

                <li>
                  <a href="/archives">所有文章</a>
                </li>

                <li>
                  <a href="/categories/软件笔记">软件笔记</a>
                </li>

                <li>
                  <a href="/categories/谈笑风生">谈笑风生</a>
                </li>

                <div class="clearfix"></div>
              </ul>
            </nav>
            <nav class="header-nav">
              <div class="social">

                <a class="github" target="_blank" href="https://github.com/MeteoriteY" title="github">github</a>

                <a class="weibo" target="_blank" href="http://weibo.com/325864479" title="weibo">weibo</a>

                <a class="twitter" target="_blank" href="https://twitter.com/Pithoi" title="twitter">twitter</a>

                <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>

              </div>
            </nav>
          </header>
        </div>
      </nav>

      <div class="body-wrap">
        <article id="post-Hexo主题修改记录" class="article article-type-post" itemscope itemprop="blogPost">

          <div class="article-meta">
            <a href="/2016/01/04/Hexo主题修改记录/" class="article-date">
              <time datetime="2016-01-04T11:06:23.000Z" itemprop="datePublished">2016-01-04</time>
            </a>

          </div>

          <div class="article-inner">

            <input type="hidden" class="isFancy" />

            <header class="article-header">
              <h1 class="article-title" itemprop="name">
                Hexo主题修改记录
              </h1>

            </header>

            <div class="article-info article-info-post">
              <div class="article-tag tagcloud">
                <ul class="article-tag-list">
                  <li class="article-tag-list-item">
                    <a class="article-tag-list-link" href="/tags/Hexo/">Hexo</a>
                  </li>
                  <li class="article-tag-list-item">
                    <a class="article-tag-list-link" href="/tags/博客/">博客</a>
                  </li>
                </ul>
              </div>

              <div class="article-category tagcloud">
                <a class="article-category-link" href="/categories/软件笔记/">软件笔记</a>
              </div>

              <div class="clearfix"></div>
            </div>

            <div class="article-entry" itemprop="articleBody">

              <p>首先感谢
                <a href="http://litten.github.io/" target="_blank" rel="external">Litten</a>提供的主题
                <a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="external">yilia</a>。
                <br>这几天花了点儿时间来对主题yilia进行微调。之后还会有一些改动，会在更新栏目里面说明。
                <br>本文主要是用来记录主题修改的过程
                <ruby>
                  <rp>(</rp>
                  <span class="heimu" title="你知道的太多了">主要是脑子不好使
                    <em>(:3」∠)</em>
                  </span>
                  <rp>)</rp>
                </ruby>，如果能给大家起到抛砖引玉的效果那就再好不过了。</p>
              <a id="more"></a>
              <hr>
              <h2 id="更新记录">
                <a href="#更新记录" class="headerlink" title="更新记录"></a>更新记录</h2>
              <p>2016-01-05 — 添加「目录」
                <br>2016-01-05 — 添加「版权声明」</p>
              <h2 id="主题修改">
                <a href="#主题修改" class="headerlink" title="主题修改"></a>主题修改</h2>
              <h3 id="为文章内容添加了黑幕遮盖效果">
                <a href="#为文章内容添加了黑幕遮盖效果" class="headerlink" title="为文章内容添加了黑幕遮盖效果"></a>为文章内容添加了黑幕遮盖效果</h3>
              <p>黑幕就是上面开头摘要中的黑框效果，用法嘛你懂的。
                <ruby>标签是HTML5引入的新标签。</ruby>
              </p>
              <p>打开
                <code>theme/yilia/source/css/style.styl</code>，加入下面这一段css内容：
                <br>
                <figure class="highlight bash">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre>
                          <span class="line">1</span>
                          <br>
                          <span class="line">2</span>
                          <br>
                          <span class="line">3</span>
                          <br>
                          <span class="line">4</span>
                          <br>
                        </pre>
                      </td>
                      <td class="code">
                        <pre>
                          <span class="line">.heimu &#123;</span>
                          <br>
                          <span class="line"> background-color:
                            <span class="comment">#252525 !important;</span>
                          </span>
                          <br>
                          <span class="line"> color:
                            <span class="comment">#252525 !important;</span>
                          </span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                        </pre>
                      </td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p>以上面的黑幕效果为例，需要使用时在文中插入：
                <br>
                <figure class="highlight bash">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre>
                          <span class="line">1</span>
                          <br>
                          <span class="line">2</span>
                          <br>
                          <span class="line">3</span>
                          <br>
                          <span class="line">4</span>
                          <br>
                          <span class="line">5</span>
                          <br>
                          <span class="line">6</span>
                          <br>
                          <span class="line">7</span>
                          <br>
                          <span class="line">8</span>
                          <br>
                          <span class="line">9</span>
                          <br>
                        </pre>
                      </td>
                      <td class="code">
                        <pre>
                          <span class="line">&lt;ruby&gt;</span>
                          <br>
                          <span class="line"> &lt;rp&gt;(</span>
                          <br>
                          <span class="line"> &lt;/rp&gt;</span>
                          <br>
                          <span class="line"> &lt;span class=
                            <span class="string">"heimu"</span> title=
                            <span class="string">"你知道的太多了"</span>&gt;</span>
                          <br>
                          <span class="line"> 以及填充一下博客空白
                            <span class="comment">#需要黑幕遮挡的内容</span>
                          </span>
                          <br>
                          <span class="line"> &lt;/span&gt;</span>
                          <br>
                          <span class="line"> &lt;rp&gt;)</span>
                          <br>
                          <span class="line"> &lt;/rp&gt;</span>
                          <br>
                          <span class="line">&lt;/ruby&gt;</span>
                          <br>
                        </pre>
                      </td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="开启多说评论">
                <a href="#开启多说评论" class="headerlink" title="开启多说评论"></a>开启多说评论</h3>
              <p>原主题已经嵌入了多说评论的代码，这里只需要获取
                <code>short-name</code>就可以了。
                <br>首先需要去
                <a href="http://duoshuo.com/create-site/" target="_blank" rel="external">多说</a>创建一个站点。
                <br>之后在文件
                <code>theme/yilia/_config.yml</code>中的相应位置填入
                <code>short-name</code>即可。</p>
              <h3 id="为网站添加小图标">
                <a href="#为网站添加小图标" class="headerlink" title="为网站添加小图标"></a>为网站添加小图标</h3>
              <p>在
                <code>themes/yilia/_config.yml</code>里将
                <code>favicon:</code>替换为
                <code>favicon: /img/favicon.ico</code>。
                <br>之后需要将favicon.ico图标文件放在
                <code>yilia/source/img</code>目录下。
                <br>制作图标的网站有
                <a href="http://www.faviconer.com" target="_blank" rel="external">faviconer</a>和
                <a href="http://www.bitbug.net/" target="_blank" rel="external">比特虫</a>等。</p>
              <h3 id="修改addthis样式">
                <a href="#修改addthis样式" class="headerlink" title="修改addthis样式"></a>修改addthis样式</h3>
              <p>因为不喜欢share_jia的风格，所以这里先使用了addthis。但我发现addthis的样式并不统一，强迫症看着很难受就去addthis官网注册了个账户。
                <br>在文件
                <code>theme/yilia/layout/_partial/post/share_addthis.ejs</code>中，把原内容替换为官网提供的内容：
                <br>
                <figure class="highlight bash">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre>
                          <span class="line">1</span>
                          <br>
                          <span class="line">2</span>
                          <br>
                          <span class="line">3</span>
                          <br>
                          <span class="line">4</span>
                          <br>
                          <span class="line">5</span>
                          <br>
                          <span class="line">6</span>
                          <br>
                          <span class="line">7</span>
                          <br>
                          <span class="line">8</span>
                          <br>
                        </pre>
                      </td>
                      <td class="code">
                        <pre>
                          <span class="line">&lt;div class=
                            <span class="string">"share_addthis"</span>&gt;</span>
                          <br>
                          <span class="line"> &lt;div class=
                            <span class="string">"addthis_sharing_toolbox"</span>&gt;</span>
                          <br>
                          <span class="line"></span>
                          <br>
                          <span class="line"> &lt;/div&gt;</span>
                          <br>
                          <span class="line"> &lt;!-- Go to www.addthis.com/dashboard to customize your
                            tools --&gt;
                          </span>
                          <br>
                          <span class="line"> &lt;script
                            <span class="built_in">type</span>=
                            <span class="string">"text/javascript"</span> src=
                            <span class="string">"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-56890545bb1303cf"</span>
                            async=
                            <span class="string">"async"</span>&gt;</span>
                          <br>
                          <span class="line"> &lt;/script&gt;</span>
                          <br>
                          <span class="line">&lt;/div&gt;</span>
                          <br>
                        </pre>
                      </td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h3 id="添加目录">
                <a href="#添加目录" class="headerlink" title="添加目录"></a>添加目录</h3>
              <p>该目录的代码和样式均来自于luuman的
                <a href="http://luuman.github.io/2015/12/27/Hexo-plug/" target="_blank" rel="external">Hexo插件安装</a>，在此表示感谢。
                <br>不过根据文中的说法，我并没有成功，可能是luuman本人没有更新文章吧。
                <br>但我参考了luuman的github内容，最终实现了目录。</p>
              <h4 id="修改article-ejs的内容，添加判断目录出现的逻辑">
                <a href="#修改article-ejs的内容，添加判断目录出现的逻辑" class="headerlink" title="修改article.ejs的内容，添加判断目录出现的逻辑"></a>修改article.ejs的内容，添加判断目录出现的逻辑</h4>
              <p>在
                <code>themes\yilia\layout\_partial\article.ejs</code>文件中修改两处内容：</p>
              <figure class="highlight bash">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre>
                        <span class="line">1</span>
                        <br>
                        <span class="line">2</span>
                        <br>
                        <span class="line">3</span>
                        <br>
                        <span class="line">4</span>
                        <br>
                        <span class="line">5</span>
                        <br>
                        <span class="line">6</span>
                        <br>
                        <span class="line">7</span>
                        <br>
                        <span class="line">8</span>
                        <br>
                        <span class="line">9</span>
                        <br>
                        <span class="line">10</span>
                        <br>
                        <span class="line">11</span>
                        <br>
                        <span class="line">12</span>
                        <br>
                        <span class="line">13</span>
                        <br>
                        <span class="line">14</span>
                        <br>
                        <span class="line">15</span>
                        <br>
                        <span class="line">16</span>
                        <br>
                        <span class="line">17</span>
                        <br>
                        <span class="line">18</span>
                        <br>
                        <span class="line">19</span>
                        <br>
                        <span class="line">20</span>
                        <br>
                        <span class="line">21</span>
                        <br>
                        <span class="line">22</span>
                        <br>
                        <span class="line">23</span>
                        <br>
                        <span class="line">24</span>
                        <br>
                      </pre>
                    </td>
                    <td class="code">
                      <pre>
                        <span class="line">
                          <span class="comment">#原代码</span>
                        </span>
                        <br>
                        <span class="line">&lt;div class=
                          <span class="string">"article-entry"</span> itemprop=
                          <span class="string">"articleBody"</span>&gt;</span>
                        <br>
                        <span class="line"> &lt;%
                          <span class="keyword">if</span> (post.excerpt &amp;&amp; index)&#123; %&gt;</span>
                        <br>
                        <span class="line"> &lt;%- post.excerpt %&gt;</span>
                        <br>
                        <span class="line"> &lt;% &#125;
                          <span class="keyword">else</span> &#123; %&gt;</span>
                        <br>
                        <span class="line"> &lt;%- post.content %&gt;</span>
                        <br>
                        <span class="line"> &lt;% &#125; %&gt;</span>
                        <br>
                        <span class="line">&lt;/div&gt;</span>
                        <br>
                        <span class="line"></span>
                        <br>
                        <span class="line">
                          <span class="comment">#替换后</span>
                        </span>
                        <br>
                        <span class="line">&lt;div class=
                          <span class="string">"article-entry"</span> itemprop=
                          <span class="string">"articleBody"</span>&gt;</span>
                        <br>
                        <span class="line"> &lt;%
                          <span class="keyword">if</span> (index &amp;&amp; (post.description || post.excerpt))&#123;
                          %&gt;
                        </span>
                        <br>
                        <span class="line"> &lt;%
                          <span class="keyword">if</span> (post.description)&#123; %&gt;</span>
                        <br>
                        <span class="line"> &lt;%- post.description %&gt;</span>
                        <br>
                        <span class="line"> &lt;% &#125;
                          <span class="keyword">else</span> &#123; %&gt;</span>
                        <br>
                        <span class="line"> &lt;%- post.excerpt %&gt;</span>
                        <br>
                        <span class="line"> &lt;% &#125; %&gt;</span>
                        <br>
                        <span class="line"> &lt;% &#125;
                          <span class="keyword">else</span> &#123; %&gt;</span>
                        <br>
                        <span class="line"> &lt;%
                          <span class="keyword">if</span> (is_page())&#123; %&gt;</span>
                        <br>
                        <span class="line"> &lt;%- partial(
                          <span class="string">'_partial/page'</span>) %&gt;</span>
                        <br>
                        <span class="line"> &lt;% &#125; %&gt;</span>
                        <br>
                        <span class="line"> &lt;%- post.content %&gt;</span>
                        <br>
                        <span class="line"> &lt;% &#125; %&gt;</span>
                        <br>
                        <span class="line">&lt;/div&gt;</span>
                        <br>
                      </pre>
                    </td>
                  </tr>
                </table>
              </figure>
              <figure class="highlight bash">
                <table>
                  <tr>
                    <td class="gutter">
                      <pre>
                        <span class="line">1</span>
                        <br>
                        <span class="line">2</span>
                        <br>
                        <span class="line">3</span>
                        <br>
                        <span class="line">4</span>
                        <br>
                      </pre>
                    </td>
                    <td class="code">
                      <pre>
                        <span class="line">
                          <span class="comment">#在&lt;article&gt;&lt;/article&gt;区块外添加代码：</span>
                        </span>
                        <br>
                        <span class="line">&lt;%
                          <span class="keyword">if</span> (!index &amp;&amp; post.toc !=
                          <span class="literal">false</span> &amp;&amp; !is_page())&#123; %&gt;</span>
                        <br>
                        <span class="line">&lt;%- partial(
                          <span class="string">'_partial/toc'</span>) %&gt;</span>
                        <br>
                        <span class="line">&lt;% &#125; %&gt;</span>
                        <br>
                      </pre>
                    </td>
                  </tr>
                </table>
              </figure>
              <h4 id="新建toc-ejs文件，加入生成目录代码">
                <a href="#新建toc-ejs文件，加入生成目录代码" class="headerlink" title="新建toc.ejs文件，加入生成目录代码"></a>新建toc.ejs文件，加入生成目录代码</h4>
              <p>在目录
                <code>themes\yilia\layout\_partial\</code>里面新建一个文件，命名为
                <code>toc.ejs</code>，并为其添加内容如下：
                <br>
                <figure class="highlight bash">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre>
                          <span class="line">1</span>
                          <br>
                          <span class="line">2</span>
                          <br>
                          <span class="line">3</span>
                          <br>
                          <span class="line">4</span>
                          <br>
                          <span class="line">5</span>
                          <br>
                          <span class="line">6</span>
                          <br>
                          <span class="line">7</span>
                          <br>
                          <span class="line">8</span>
                          <br>
                          <span class="line">9</span>
                          <br>
                          <span class="line">10</span>
                          <br>
                          <span class="line">11</span>
                          <br>
                          <span class="line">12</span>
                          <br>
                          <span class="line">13</span>
                          <br>
                          <span class="line">14</span>
                          <br>
                          <span class="line">15</span>
                          <br>
                          <span class="line">16</span>
                          <br>
                          <span class="line">17</span>
                          <br>
                          <span class="line">18</span>
                          <br>
                          <span class="line">19</span>
                          <br>
                          <span class="line">20</span>
                          <br>
                          <span class="line">21</span>
                          <br>
                          <span class="line">22</span>
                          <br>
                          <span class="line">23</span>
                          <br>
                          <span class="line">24</span>
                          <br>
                          <span class="line">25</span>
                          <br>
                          <span class="line">26</span>
                          <br>
                          <span class="line">27</span>
                          <br>
                          <span class="line">28</span>
                          <br>
                          <span class="line">29</span>
                          <br>
                          <span class="line">30</span>
                          <br>
                          <span class="line">31</span>
                          <br>
                          <span class="line">32</span>
                          <br>
                          <span class="line">33</span>
                          <br>
                          <span class="line">34</span>
                          <br>
                          <span class="line">35</span>
                          <br>
                          <span class="line">36</span>
                          <br>
                          <span class="line">37</span>
                          <br>
                          <span class="line">38</span>
                          <br>
                          <span class="line">39</span>
                          <br>
                          <span class="line">40</span>
                          <br>
                          <span class="line">41</span>
                          <br>
                          <span class="line">42</span>
                          <br>
                          <span class="line">43</span>
                          <br>
                          <span class="line">44</span>
                          <br>
                          <span class="line">45</span>
                          <br>
                          <span class="line">46</span>
                          <br>
                          <span class="line">47</span>
                          <br>
                          <span class="line">48</span>
                          <br>
                          <span class="line">49</span>
                          <br>
                          <span class="line">50</span>
                          <br>
                          <span class="line">51</span>
                          <br>
                          <span class="line">52</span>
                          <br>
                          <span class="line">53</span>
                          <br>
                          <span class="line">54</span>
                          <br>
                          <span class="line">55</span>
                          <br>
                          <span class="line">56</span>
                          <br>
                          <span class="line">57</span>
                          <br>
                          <span class="line">58</span>
                          <br>
                          <span class="line">59</span>
                          <br>
                        </pre>
                      </td>
                      <td class="code">
                        <pre>
                          <span class="line">&lt;div id=
                            <span class="string">"toc"</span> class=
                            <span class="string">"toc-article"</span>&gt;</span>
                          <br>
                          <span class="line"> &lt;strong class=
                            <span class="string">"toc-title"</span>&gt;文章目录&lt;/strong&gt;</span>
                          <br>
                          <span class="line"> &lt;%- toc(post.content) %&gt;</span>
                          <br>
                          <span class="line">&lt;/div&gt;</span>
                          <br>
                          <span class="line">&lt;style&gt;</span>
                          <br>
                          <span class="line"> .left-col .switch-btn &#123;</span>
                          <br>
                          <span class="line"> display: block;
                            <span class="comment">#原代码为 none，这里稍作修改</span>
                          </span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> .left-col .switch-area &#123;</span>
                          <br>
                          <span class="line"> display: block;
                            <span class="comment">#原代码为 none，这里稍作修改</span>
                          </span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line">&lt;/style&gt;</span>
                          <br>
                          <span class="line"></span>
                          <br>
                          <span class="line">&lt;input
                            <span class="built_in">type</span>=
                            <span class="string">"button"</span> id=
                            <span class="string">"tocButton"</span> value=
                            <span class="string">"隐藏目录"</span> title=
                            <span class="string">"点击按钮隐藏或者显示文章目录"</span>&gt;</span>
                          <br>
                          <span class="line"></span>
                          <br>
                          <span class="line">&lt;%- js(
                            <span class="string">'http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min'</span>)
                            %&gt;
                          </span>
                          <br>
                          <span class="line">&lt;script&gt;</span>
                          <br>
                          <span class="line"> var toc_button = document.getElementById(
                            <span class="string">"tocButton"</span>);</span>
                          <br>
                          <span class="line"> var toc_div = document.getElementById(
                            <span class="string">"toc"</span>);</span>
                          <br>
                          <span class="line"> toc_button.onclick=
                            <span class="function">
                              <span class="title">function</span>
                            </span>() &#123;</span>
                          <br>
                          <span class="line">
                            <span class="keyword">if</span> (toc_div.style.display ==
                            <span class="string">"none"</span>) &#123;</span>
                          <br>
                          <span class="line"> toc_div.style.display =
                            <span class="string">"block"</span>;</span>
                          <br>
                          <span class="line"> toc_button.value =
                            <span class="string">"隐藏目录"</span>;</span>
                          <br>
                          <span class="line"> document.getElementById(
                            <span class="string">"switch-btn"</span>).style.display =
                            <span class="string">"none"</span>;</span>
                          <br>
                          <span class="line"> document.getElementById(
                            <span class="string">"switch-area"</span>).style.display =
                            <span class="string">"none"</span>;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line">
                            <span class="keyword">else</span> &#123;</span>
                          <br>
                          <span class="line"> toc_div.style.display =
                            <span class="string">"none"</span>;</span>
                          <br>
                          <span class="line"> toc_button.value =
                            <span class="string">"显示目录"</span>;</span>
                          <br>
                          <span class="line"> document.getElementById(
                            <span class="string">"switch-btn"</span>).style.display =
                            <span class="string">"block"</span>;</span>
                          <br>
                          <span class="line"> document.getElementById(
                            <span class="string">"switch-area"</span>).style.display =
                            <span class="string">"block"</span>;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"></span>
                          <br>
                          <span class="line">
                            <span class="keyword">if</span> ($(
                            <span class="string">".toc"</span>).length &lt;
                            <span class="number">1</span>) &#123;</span>
                          <br>
                          <span class="line"> $(
                            <span class="string">"#toc"</span>).css(
                            <span class="string">"display"</span>,
                            <span class="string">"none"</span>);</span>
                          <br>
                          <span class="line"> $(
                            <span class="string">"#tocButton"</span>).css(
                            <span class="string">"display"</span>,
                            <span class="string">"none"</span>);</span>
                          <br>
                          <span class="line"> $(
                            <span class="string">".switch-btn"</span>).css(
                            <span class="string">"display"</span>,
                            <span class="string">"block"</span>);</span>
                          <br>
                          <span class="line"> $(
                            <span class="string">".switch-area"</span>).css(
                            <span class="string">"display"</span>,
                            <span class="string">"block"</span>);</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line">&lt;/script&gt;</span>
                          <br>
                          <span class="line"></span>
                          <br>
                          <span class="line">&lt;%
                            <span class="keyword">if</span> (theme.toc_nowrap) &#123; %&gt;</span>
                          <br>
                          <span class="line"> &lt;style&gt;</span>
                          <br>
                          <span class="line"> .toc &#123;</span>
                          <br>
                          <span class="line"> white-space: nowrap;</span>
                          <br>
                          <span class="line"> overflow-x: hidden;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> &lt;/style&gt;</span>
                          <br>
                          <span class="line"></span>
                          <br>
                          <span class="line"> &lt;script&gt;</span>
                          <br>
                          <span class="line"> $(document).ready(
                            <span class="function">
                              <span class="title">function</span>
                            </span>() &#123;</span>
                          <br>
                          <span class="line"> $(
                            <span class="string">".toc li a"</span>).mouseover(
                            <span class="function">
                              <span class="title">function</span>
                            </span>() &#123;</span>
                          <br>
                          <span class="line"> var title = $(this).attr(
                            <span class="string">'href'</span>);</span>
                          <br>
                          <span class="line"> $(this).attr(
                            <span class="string">"title"</span>, title);</span>
                          <br>
                          <span class="line"> &#125;);</span>
                          <br>
                          <span class="line"> &#125;)</span>
                          <br>
                          <span class="line"> &lt;/script&gt;</span>
                          <br>
                          <span class="line">&lt;% &#125; %&gt;</span>
                          <br>
                        </pre>
                      </td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h4 id="修改目录样式">
                <a href="#修改目录样式" class="headerlink" title="修改目录样式"></a>修改目录样式</h4>
              <p>
                <code>themes\yilia\source\css\_partial\article.styl</code>文件中加入下面的css代码：
                <br>
                <figure class="highlight bash">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre>
                          <span class="line">1</span>
                          <br>
                          <span class="line">2</span>
                          <br>
                          <span class="line">3</span>
                          <br>
                          <span class="line">4</span>
                          <br>
                          <span class="line">5</span>
                          <br>
                          <span class="line">6</span>
                          <br>
                          <span class="line">7</span>
                          <br>
                          <span class="line">8</span>
                          <br>
                          <span class="line">9</span>
                          <br>
                          <span class="line">10</span>
                          <br>
                          <span class="line">11</span>
                          <br>
                          <span class="line">12</span>
                          <br>
                          <span class="line">13</span>
                          <br>
                          <span class="line">14</span>
                          <br>
                          <span class="line">15</span>
                          <br>
                          <span class="line">16</span>
                          <br>
                          <span class="line">17</span>
                          <br>
                          <span class="line">18</span>
                          <br>
                          <span class="line">19</span>
                          <br>
                          <span class="line">20</span>
                          <br>
                          <span class="line">21</span>
                          <br>
                          <span class="line">22</span>
                          <br>
                          <span class="line">23</span>
                          <br>
                          <span class="line">24</span>
                          <br>
                          <span class="line">25</span>
                          <br>
                          <span class="line">26</span>
                          <br>
                          <span class="line">27</span>
                          <br>
                          <span class="line">28</span>
                          <br>
                          <span class="line">29</span>
                          <br>
                          <span class="line">30</span>
                          <br>
                          <span class="line">31</span>
                          <br>
                          <span class="line">32</span>
                          <br>
                          <span class="line">33</span>
                          <br>
                          <span class="line">34</span>
                          <br>
                          <span class="line">35</span>
                          <br>
                          <span class="line">36</span>
                          <br>
                          <span class="line">37</span>
                          <br>
                          <span class="line">38</span>
                          <br>
                          <span class="line">39</span>
                          <br>
                          <span class="line">40</span>
                          <br>
                          <span class="line">41</span>
                          <br>
                          <span class="line">42</span>
                          <br>
                          <span class="line">43</span>
                          <br>
                          <span class="line">44</span>
                          <br>
                          <span class="line">45</span>
                          <br>
                          <span class="line">46</span>
                          <br>
                          <span class="line">47</span>
                          <br>
                          <span class="line">48</span>
                          <br>
                          <span class="line">49</span>
                          <br>
                          <span class="line">50</span>
                          <br>
                          <span class="line">51</span>
                          <br>
                          <span class="line">52</span>
                          <br>
                          <span class="line">53</span>
                          <br>
                          <span class="line">54</span>
                          <br>
                          <span class="line">55</span>
                          <br>
                          <span class="line">56</span>
                          <br>
                          <span class="line">57</span>
                          <br>
                          <span class="line">58</span>
                          <br>
                          <span class="line">59</span>
                          <br>
                          <span class="line">60</span>
                          <br>
                          <span class="line">61</span>
                          <br>
                          <span class="line">62</span>
                          <br>
                          <span class="line">63</span>
                          <br>
                          <span class="line">64</span>
                          <br>
                          <span class="line">65</span>
                          <br>
                          <span class="line">66</span>
                          <br>
                          <span class="line">67</span>
                          <br>
                          <span class="line">68</span>
                          <br>
                          <span class="line">69</span>
                          <br>
                          <span class="line">70</span>
                          <br>
                          <span class="line">71</span>
                          <br>
                          <span class="line">72</span>
                          <br>
                          <span class="line">73</span>
                          <br>
                          <span class="line">74</span>
                          <br>
                          <span class="line">75</span>
                          <br>
                          <span class="line">76</span>
                          <br>
                          <span class="line">77</span>
                          <br>
                          <span class="line">78</span>
                          <br>
                          <span class="line">79</span>
                          <br>
                          <span class="line">80</span>
                          <br>
                          <span class="line">81</span>
                          <br>
                          <span class="line">82</span>
                          <br>
                          <span class="line">83</span>
                          <br>
                          <span class="line">84</span>
                          <br>
                          <span class="line">85</span>
                          <br>
                          <span class="line">86</span>
                          <br>
                          <span class="line">87</span>
                          <br>
                          <span class="line">88</span>
                          <br>
                        </pre>
                      </td>
                      <td class="code">
                        <pre>
                          <span class="line">/* toc */</span>
                          <br>
                          <span class="line">
                            <span class="comment">#tocButton &#123;</span>
                          </span>
                          <br>
                          <span class="line"> position: fixed;</span>
                          <br>
                          <span class="line"> border-radius:
                            <span class="number">6</span>px;</span>
                          <br>
                          <span class="line"> width:
                            <span class="number">71</span>px;</span>
                          <br>
                          <span class="line"> height:
                            <span class="number">29</span>px;</span>
                          <br>
                          <span class="line"> left:
                            <span class="number">217</span>px;</span>
                          <br>
                          <span class="line"> border: none;</span>
                          <br>
                          <span class="line"> background-color:
                            <span class="comment">#ee6252;</span>
                          </span>
                          <br>
                          <span class="line"> top:
                            <span class="number">344</span>px;</span>
                          <br>
                          <span class="line"> font-size:
                            <span class="number">14</span>px;</span>
                          <br>
                          <span class="line"> text-align: center;</span>
                          <br>
                          <span class="line"> color:
                            <span class="comment">#fff;</span>
                          </span>
                          <br>
                          <span class="line"> &amp;:hover &#123;</span>
                          <br>
                          <span class="line"> color:
                            <span class="comment">#FFF;</span>
                          </span>
                          <br>
                          <span class="line"> background:
                            <span class="comment">#3F3F3F;</span>
                          </span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line">&#125;</span>
                          <br>
                          <span class="line">.toc-article &#123;</span>
                          <br>
                          <span class="line"> position: fixed;</span>
                          <br>
                          <span class="line"> width:
                            <span class="number">256</span>px;</span>
                          <br>
                          <span class="line"> left:
                            <span class="number">0</span>;</span>
                          <br>
                          <span class="line"> top:
                            <span class="number">360</span>px;</span>
                          <br>
                          <span class="line"> color:
                            <span class="comment">#999;</span>
                          </span>
                          <br>
                          <span class="line"> bottom:
                            <span class="number">0.7</span>em;</span>
                          <br>
                          <span class="line"> padding:
                            <span class="number">10</span>px;</span>
                          <br>
                          <span class="line"> margin-left:
                            <span class="number">0</span>em;</span>
                          <br>
                          <span class="line"> margin:
                            <span class="number">20</span>px
                            <span class="number">10</span>px
                            <span class="number">10</span>px
                            <span class="number">10</span>px;</span>
                          <br>
                          <span class="line"> background:
                            <span class="comment">#3F3F3F;</span>
                          </span>
                          <br>
                          <span class="line"> border:
                            <span class="number">1</span>px solid
                            <span class="comment">#080808;</span>
                          </span>
                          <br>
                          <span class="line"> border-radius:
                            <span class="number">6</span>px;</span>
                          <br>
                          <span class="line"> overflow: auto;</span>
                          <br>
                          <span class="line"> -webkit-border-radius:
                            <span class="number">2.8</span>%;</span>
                          <br>
                          <span class="line"></span>
                          <br>
                          <span class="line">&#125;</span>
                          <br>
                          <span class="line">.post-list li&#123;</span>
                          <br>
                          <span class="line"> margin-left:
                            <span class="number">20</span>px;</span>
                          <br>
                          <span class="line"> a&#123;</span>
                          <br>
                          <span class="line"> color:
                            <span class="comment">#999;</span>
                          </span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> a:hover&#123;</span>
                          <br>
                          <span class="line"> color:
                            <span class="comment">#FFF;</span>
                          </span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line">
                            <span class="comment">#toc &#123;</span>
                          </span>
                          <br>
                          <span class="line">
                            <span class="built_in">float</span>: right;</span>
                          <br>
                          <span class="line"> font-size: .
                            <span class="number">9</span>em;</span>
                          <br>
                          <span class="line"> line-height:
                            <span class="number">1.65</span>em;</span>
                          <br>
                          <span class="line"> a &#123;</span>
                          <br>
                          <span class="line"> color:
                            <span class="comment">#999;</span>
                          </span>
                          <br>
                          <span class="line"> &amp;:visited &#123;</span>
                          <br>
                          <span class="line"> color:
                            <span class="comment">#FFF;</span>
                          </span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> &amp;:hover &#123;</span>
                          <br>
                          <span class="line"> color:
                            <span class="comment">#FFF;</span>
                          </span>
                          <br>
                          <span class="line"> text-decoration: none;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> li:hover &#123;</span>
                          <br>
                          <span class="line"> background: none;</span>
                          <br>
                          <span class="line"> li:hover &#123;</span>
                          <br>
                          <span class="line"> background: rgba(
                            <span class="number">158</span>,
                            <span class="number">188</span>,
                            <span class="number">226</span>, .
                            <span class="number">21</span>);</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> .toc-title &#123;</span>
                          <br>
                          <span class="line"> font-weight: bold;</span>
                          <br>
                          <span class="line"> color:
                            <span class="comment">#999;</span>
                          </span>
                          <br>
                          <span class="line"> text-align: center;</span>
                          <br>
                          <span class="line"> display: block;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> .toc &#123;</span>
                          <br>
                          <span class="line"> padding:
                            <span class="number">10</span>px;</span>
                          <br>
                          <span class="line"> padding-right:
                            <span class="number">0</span>;</span>
                          <br>
                          <span class="line"> li &#123;</span>
                          <br>
                          <span class="line"> list-style-type: none;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> ol &#123;</span>
                          <br>
                          <span class="line"> margin-left:
                            <span class="number">0</span>;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> .toc-child &#123;</span>
                          <br>
                          <span class="line"> padding-left:
                            <span class="number">1.25</span>em;</span>
                          <br>
                          <span class="line"> margin:
                            <span class="number">4</span>px
                            <span class="number">0</span>;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> .toc-link:hover &#123;</span>
                          <br>
                          <span class="line"> background: rgba(
                            <span class="number">158</span>,
                            <span class="number">188</span>,
                            <span class="number">226</span>, .
                            <span class="number">21</span>);</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line">&#125;</span>
                          <br>
                        </pre>
                      </td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p>这里就完成了目录的修改工作，之后在写博客时，需要正在文章顶头栏中加上
                <code>toc: true</code>（注意冒号后的空格）。
                <br>重新生成一下页面，就能看到改动后的效果。</p>
              <h3 id="加入版权声明">
                <a href="#加入版权声明" class="headerlink" title="加入版权声明"></a>加入版权声明</h3>
              <p>下面的代码来源也是luuman，再次感谢~
                <br>我修改了原代码，让时间格式更具体，同时把3.0协议更新为4.0。
                <br>同时我也根据喜好稍微修改了一些样式。
                <br>在
                <code>theme\yilia\layout\_partial\post\nav.ejs</code>的开头加入以下内容：
                <br>
                <figure class="highlight bash">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre>
                          <span class="line">1</span>
                          <br>
                          <span class="line">2</span>
                          <br>
                          <span class="line">3</span>
                          <br>
                          <span class="line">4</span>
                          <br>
                          <span class="line">5</span>
                          <br>
                          <span class="line">6</span>
                          <br>
                          <span class="line">7</span>
                          <br>
                          <span class="line">8</span>
                          <br>
                          <span class="line">9</span>
                          <br>
                          <span class="line">10</span>
                          <br>
                          <span class="line">11</span>
                          <br>
                          <span class="line">12</span>
                          <br>
                          <span class="line">13</span>
                          <br>
                          <span class="line">14</span>
                          <br>
                          <span class="line">15</span>
                          <br>
                          <span class="line">16</span>
                          <br>
                          <span class="line">17</span>
                          <br>
                        </pre>
                      </td>
                      <td class="code">
                        <pre>
                          <span class="line">&lt;%
                            <span class="keyword">if</span> (post.original !=
                            <span class="literal">false</span> &amp;&amp; !is_page())&#123; %&gt;</span>
                          <br>
                          <span class="line"> &lt;div class=
                            <span class="string">"copyright"</span>&gt;</span>
                          <br>
                          <span class="line"> &lt;p&gt;&lt;span&gt;本文标题:&lt;/span&gt;&lt;a href=
                            <span class="string">"&lt;%- url_for(post.path) %&gt;"</span>&gt;&lt;%= post.title
                            %&gt;&lt;/a&gt;&lt;/p&gt;
                          </span>
                          <br>
                          <span class="line"> &lt;p&gt;&lt;span&gt;文章作者:&lt;/span&gt;&lt;a href=
                            <span class="string">"/"</span> title=
                            <span class="string">"请访问 &lt;%=theme.author%&gt; 博客"</span>&gt;&lt;%=theme.author%&gt;&lt;/a&gt;&lt;/p&gt;</span>
                          <br>
                          <span class="line"> &lt;p&gt;&lt;span&gt;发布时间:&lt;/span&gt;&lt;%= post.date.format(
                            <span class="string">"YYYY/MM/DD - HH:mm:ss"</span>) %&gt;&lt;/p&gt;</span>
                          <br>
                          <span class="line"> &lt;p&gt;&lt;span&gt;最后更新:&lt;/span&gt;&lt;%= post.updated.format(
                            <span class="string">"YYYY/MM/DD - HH:mm:ss"</span>) %&gt;&lt;/p&gt;</span>
                          <br>
                          <span class="line"> &lt;p&gt;</span>
                          <br>
                          <span class="line"> &lt;span&gt;原始链接:&lt;/span&gt;&lt;a class=
                            <span class="string">"post-url"</span> href=
                            <span class="string">"&lt;%- url_for(post.path) %&gt;"</span> title=
                            <span class="string">"&lt;%= post.title %&gt;"</span>&gt;&lt;%= post.permalink
                            %&gt;&lt;/a&gt;</span>
                          <br>
                          <span class="line"> &lt;span class=
                            <span class="string">"copy-path"</span> data-clipboard-text=
                            <span class="string">"原文: &lt;%= post.permalink %&gt;　　作者: &lt;%=theme.author%&gt;"</span>
                            title=
                            <span class="string">"点击复制文章链接"</span>&gt;&lt;i class=
                            <span class="string">"fa fa-clipboard"</span>&gt;&lt;/i&gt;&lt;/span&gt;</span>
                          <br>
                          <span class="line"> &lt;script src=
                            <span class="string">"/js/clipboard.min.js"</span>&gt;&lt;/script&gt;</span>
                          <br>
                          <span class="line"> &lt;script&gt; var clipboard = new Clipboard(
                            <span class="string">'.copy-path'</span>); &lt;/script&gt;</span>
                          <br>
                          <span class="line"> &lt;/p&gt;</span>
                          <br>
                          <span class="line"> &lt;p&gt;</span>
                          <br>
                          <span class="line"> &lt;span&gt;许可协议:&lt;/span&gt;&lt;i class=
                            <span class="string">"fa fa-creative-commons"</span>&gt;&lt;/i&gt;&lt;a rel=
                            <span class="string">"license"</span> href=
                            <span class="string">"http://creativecommons.org/licenses/by-nc-sa/4.0/"</span>&gt;&lt;img
                            alt=
                            <span class="string">"知识共享许可协议"</span> style=
                            <span class="string">"border-width:0"</span> src=
                            <span class="string">"https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"</span>
                            /&gt;&lt;/a&gt;&lt;a rel=
                            <span class="string">"license"</span> href=
                            <span class="string">"http://creativecommons.org/licenses/by-nc-sa/4.0/"</span>
                            title=
                            <span class="string">"中国大陆 (CC BY-NC-SA 4.0 CN)"</span>&gt; 知识共享署名-非商业性使用-相同方式共享
                            <span class="number">4.0</span> 国际许可协议&lt;/a&gt;</span>
                          <br>
                          <span class="line"> &lt;/p&gt;</span>
                          <br>
                          <span class="line"> &lt;/div&gt;</span>
                          <br>
                          <span class="line">&lt;% &#125; %&gt;</span>
                          <br>
                        </pre>
                      </td>
                    </tr>
                  </table>
                </figure>
              </p>
              <p>在
                <code>themes\yilia\source\css\_partial\article.styl</code>添加版权声明的css样式：
                <br>
                <figure class="highlight bash">
                  <table>
                    <tr>
                      <td class="gutter">
                        <pre>
                          <span class="line">1</span>
                          <br>
                          <span class="line">2</span>
                          <br>
                          <span class="line">3</span>
                          <br>
                          <span class="line">4</span>
                          <br>
                          <span class="line">5</span>
                          <br>
                          <span class="line">6</span>
                          <br>
                          <span class="line">7</span>
                          <br>
                          <span class="line">8</span>
                          <br>
                          <span class="line">9</span>
                          <br>
                          <span class="line">10</span>
                          <br>
                          <span class="line">11</span>
                          <br>
                          <span class="line">12</span>
                          <br>
                          <span class="line">13</span>
                          <br>
                          <span class="line">14</span>
                          <br>
                          <span class="line">15</span>
                          <br>
                          <span class="line">16</span>
                          <br>
                          <span class="line">17</span>
                          <br>
                          <span class="line">18</span>
                          <br>
                          <span class="line">19</span>
                          <br>
                          <span class="line">20</span>
                          <br>
                          <span class="line">21</span>
                          <br>
                          <span class="line">22</span>
                          <br>
                          <span class="line">23</span>
                          <br>
                          <span class="line">24</span>
                          <br>
                          <span class="line">25</span>
                          <br>
                          <span class="line">26</span>
                          <br>
                          <span class="line">27</span>
                          <br>
                          <span class="line">28</span>
                          <br>
                          <span class="line">29</span>
                          <br>
                          <span class="line">30</span>
                          <br>
                          <span class="line">31</span>
                          <br>
                          <span class="line">32</span>
                          <br>
                          <span class="line">33</span>
                          <br>
                          <span class="line">34</span>
                          <br>
                          <span class="line">35</span>
                          <br>
                          <span class="line">36</span>
                          <br>
                          <span class="line">37</span>
                          <br>
                          <span class="line">38</span>
                          <br>
                          <span class="line">39</span>
                          <br>
                        </pre>
                      </td>
                      <td class="code">
                        <pre>
                          <span class="line">/*版权声明*/</span>
                          <br>
                          <span class="line">.copyright &#123;</span>
                          <br>
                          <span class="line"> width:
                            <span class="number">85</span>%;</span>
                          <br>
                          <span class="line"> max-width:
                            <span class="number">45</span>em;</span>
                          <br>
                          <span class="line"> margin:
                            <span class="number">0</span> auto;</span>
                          <br>
                          <span class="line"> padding: .
                            <span class="number">5</span>em
                            <span class="number">1.8</span>em;</span>
                          <br>
                          <span class="line"> border:
                            <span class="number">1</span>px solid lightgray;</span>
                          <br>
                          <span class="line"> font-size: .
                            <span class="number">93</span>em;</span>
                          <br>
                          <span class="line"> line-height:
                            <span class="number">2</span>em;</span>
                          <br>
                          <span class="line"> word-break:
                            <span class="built_in">break</span>-word;</span>
                          <br>
                          <span class="line"> background: rgba(
                            <span class="number">77</span>,
                            <span class="number">77</span>,
                            <span class="number">77</span>,
                            <span class="number">1</span>);</span>
                          <br>
                          <span class="line"> color: gray;</span>
                          <br>
                          <span class="line"> span &#123;</span>
                          <br>
                          <span class="line"> margin-right:
                            <span class="number">1</span>em;</span>
                          <br>
                          <span class="line"> color: gray;</span>
                          <br>
                          <span class="line"> font-weight: normal;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> a &#123;</span>
                          <br>
                          <span class="line"> color: gray;</span>
                          <br>
                          <span class="line"> &amp;:hover &#123;</span>
                          <br>
                          <span class="line"> font-weight: normal;</span>
                          <br>
                          <span class="line"> color:
                            <span class="comment">#EAEAEA;</span>
                          </span>
                          <br>
                          <span class="line"> text-decoration: underline;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> &amp;:hover p .copy-path::after &#123;</span>
                          <br>
                          <span class="line"> content:
                            <span class="string">"复制"</span>;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> .post-url:hover &#123;</span>
                          <br>
                          <span class="line"> font-weight: normal;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> .copy-path &#123;</span>
                          <br>
                          <span class="line"> margin-left:
                            <span class="number">1</span>em;</span>
                          <br>
                          <span class="line"> &amp;:hover &#123;</span>
                          <br>
                          <span class="line"> color:
                            <span class="comment">#EAEAEA;</span>
                          </span>
                          <br>
                          <span class="line"> cursor: pointer;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line"> &#125;</span>
                          <br>
                          <span class="line">&#125;</span>
                          <br>
                        </pre>
                      </td>
                    </tr>
                  </table>
                </figure>
              </p>
              <h2 id="提醒">
                <a href="#提醒" class="headerlink" title="提醒"></a>提醒</h2>
              <ol>
                <li>修改配置文件时，需注意冒号后面应有一个空格。</li>
                <li>若无法看到改动，检查一下语法错误。若还是看不到改动，可以尝试使用
                  <code>hexo clean</code>清除一下「public」和「database」之后，再使用
                  <code>hexo g</code>重新生成页面。</li>
                <li>修改主题的时候使用
                  <code>hexo g</code>和
                  <code>hexo s</code>配合，可以在当地
                  <a href="http://localhost:4000查看修改效果。" target="_blank" rel="external">http://localhost:4000查看修改效果。</a>
                </li>
                <li>使用命令
                  <code>hexo g -d</code>可以一键生成静态文件并且部署到github。</li>
              </ol>
              <h2 id="参考资料">
                <a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2>
              <p>在修改主题的过程中我参考的文章列在下方，感谢各位大大们提供的各种修改姿势！</p>
              <ol>
                <li>hosiet的
                  <a href="https://hosiet.me/blog/2015/06/26/use-ruby-and-black-in-html/" target="_blank"
                                                                                                  rel="external">HTML中ruby和黑幕的初步应用</a>
                </li>
                <li>zipperary的
                  <a href="http://zipperary.com/2013/05/30/hexo-guide-4/" target="_blank" rel="external">hexo系列教程：（四）hexo博客的优化技巧</a>
                </li>
                <li>luuman的
                  <a href="http://luuman.github.io/2015/12/27/Hexo-plug/" target="_blank" rel="external">Hexo插件安装</a>
                </li>
                <li>luuman的
                  <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank" rel="external">主题代码</a>
                </li>
              </ol>

            </div>

          </div>

          <div class="copyright">
            <p>
              <span>本文标题:</span>
              <a href="/2016/01/04/Hexo主题修改记录/">Hexo主题修改记录</a>
            </p>
            <p>
              <span>文章作者:</span>
              <a href="/" title="请访问 MeteoriteY 博客">MeteoriteY</a>
            </p>
            <p>
              <span>发布时间:</span>2016/01/04 - 19:06:23</p>
            <p>
              <span>最后更新:</span>2016/01/05 - 22:55:07</p>
            <p>
              <span>原始链接:</span>
              <a class="post-url" href="/2016/01/04/Hexo主题修改记录/" title="Hexo主题修改记录">http://meteoritey.github.io/2016/01/04/Hexo主题修改记录/</a>
              <span class="copy-path" data-clipboard-text="原文: http://meteoritey.github.io/2016/01/04/Hexo主题修改记录/　　作者: MeteoriteY"
                                                                                              title="点击复制文章链接">
                <i class="fa fa-clipboard"></i>
              </span>
              <script src="/js/clipboard.min.js"></script>
              <script>
                var clipboard = new Clipboard('.copy-path');

              </script>
            </p>
            <p>
              <span>许可协议:</span>
              <i class="fa fa-creative-commons"></i>
              <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
                <img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"
                />
              </a>
              <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="中国大陆 (CC BY-NC-SA 4.0 CN)">
                知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>
            </p>
          </div>

          <nav id="article-nav">

            <a href="/2016/02/07/近期使用bilibili的问题/" id="article-nav-newer" class="article-nav-link-wrap">
              <strong class="article-nav-caption">
                <</strong>
                  <div class="article-nav-title">

                    近期使用bilibili的问题

                  </div>
            </a>

            <a href="/2015/01/03/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
              <div class="article-nav-title">Hello Hexo</div>
              <strong class="article-nav-caption">></strong>
            </a>

          </nav>

        </article>

        <div id="toc" class="toc-article">
          <strong class="toc-title">文章目录</strong>
          <ol class="toc">
            <li class="toc-item toc-level-2">
              <a class="toc-link" href="#更新记录">
                <span class="toc-number">1.</span>
                <span class="toc-text">
                  更新记录</span>
              </a>
            </li>
            <li class="toc-item toc-level-2">
              <a class="toc-link" href="#主题修改">
                <span class="toc-number">2.</span>
                <span class="toc-text">
                  主题修改</span>
              </a>
              <ol class="toc-child">
                <li class="toc-item toc-level-3">
                  <a class="toc-link" href="#为文章内容添加了黑幕遮盖效果">
                    <span class="toc-number">2.1.</span>
                    <span class="toc-text">
                      为文章内容添加了黑幕遮盖效果</span>
                  </a>
                </li>
                <li class="toc-item toc-level-3">
                  <a class="toc-link" href="#开启多说评论">
                    <span class="toc-number">2.2.</span>
                    <span class="toc-text">
                      开启多说评论</span>
                  </a>
                </li>
                <li class="toc-item toc-level-3">
                  <a class="toc-link" href="#为网站添加小图标">
                    <span class="toc-number">2.3.</span>
                    <span class="toc-text">
                      为网站添加小图标</span>
                  </a>
                </li>
                <li class="toc-item toc-level-3">
                  <a class="toc-link" href="#修改addthis样式">
                    <span class="toc-number">2.4.</span>
                    <span class="toc-text">
                      修改addthis样式</span>
                  </a>
                </li>
                <li class="toc-item toc-level-3">
                  <a class="toc-link" href="#添加目录">
                    <span class="toc-number">2.5.</span>
                    <span class="toc-text">
                      添加目录</span>
                  </a>
                  <ol class="toc-child">
                    <li class="toc-item toc-level-4">
                      <a class="toc-link" href="#修改article-ejs的内容，添加判断目录出现的逻辑">
                        <span class="toc-number">2.5.1.</span>
                        <span class="toc-text">
                          修改article.ejs的内容，添加判断目录出现的逻辑</span>
                      </a>
                    </li>
                    <li class="toc-item toc-level-4">
                      <a class="toc-link" href="#新建toc-ejs文件，加入生成目录代码">
                        <span class="toc-number">2.5.2.</span>
                        <span class="toc-text">
                          新建toc.ejs文件，加入生成目录代码</span>
                      </a>
                    </li>
                    <li class="toc-item toc-level-4">
                      <a class="toc-link" href="#修改目录样式">
                        <span class="toc-number">2.5.3.</span>
                        <span class="toc-text">
                          修改目录样式</span>
                      </a>
                    </li>
                  </ol>
                </li>
                <li class="toc-item toc-level-3">
                  <a class="toc-link" href="#加入版权声明">
                    <span class="toc-number">2.6.</span>
                    <span class="toc-text">
                      加入版权声明</span>
                  </a>
                </li>
              </ol>
            </li>
            <li class="toc-item toc-level-2">
              <a class="toc-link" href="#提醒">
                <span class="toc-number">3.</span>
                <span class="toc-text">
                  提醒</span>
              </a>
            </li>
            <li class="toc-item toc-level-2">
              <a class="toc-link" href="#参考资料">
                <span class="toc-number">4.</span>
                <span class="toc-text">
                  参考资料</span>
              </a>
            </li>
          </ol>
        </div>
        <style>
          .left-col .switch-btn {
            display: block;
          }
          
          .left-col .switch-area {
            display: block;
          }

        </style>

        <input type="button" id="tocButton" value="隐藏目录" title="点击按钮隐藏或者显示文章目录">

        <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
        <script>
          var toc_button = document.getElementById("tocButton");
          var toc_div = document.getElementById("toc");
          toc_button.onclick = function() {
            if (toc_div.style.display == "none") {
              toc_div.style.display = "block";
              toc_button.value = "隐藏目录";
              document.getElementById("switch-btn").style.display = "none";
              document.getElementById("switch-area").style.display = "none";
            } else {
              toc_div.style.display = "none";
              toc_button.value = "显示目录";
              document.getElementById("switch-btn").style.display = "block";
              document.getElementById("switch-area").style.display = "block";
            }
          }
          if ($(".toc").length < 1) {
            $("#toc").css("display", "none");
            $("#tocButton").css("display", "none");
            $(".switch-btn").css("display", "block");
            $(".switch-area").css("display", "block");
          }

        </script>

        <div class="share_addthis">
          <div class="addthis_sharing_toolbox">

          </div>
          <!-- Go to www.addthis.com/dashboard to customize your tools -->
          <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-56890545bb1303cf"
                                                                                          async="async">


          </script>
        </div>

        <div class="duoshuo">
          <!-- 多说评论框 start -->
          <div class="ds-thread" data-thread-key="Hexo主题修改记录" data-title="Hexo主题修改记录" data-url="http://meteoritey.github.io/2016/01/04/Hexo主题修改记录/"></div>
          <!-- 多说评论框 end -->
          <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
          <script type="text/javascript">
            var duoshuoQuery = {
              short_name: "meteoritey"
            };
            (function() {
              var ds = document.createElement('script');
              ds.type = 'text/javascript';
              ds.async = true;
              ds.src = (document.location.protocol == 'https:' ? 'https:' :
                  'http:') +
                '//static.duoshuo.com/embed.js';
              ds.charset = 'UTF-8';
              (document.getElementsByTagName('head')[0] ||
                document.getElementsByTagName('body')[0]).appendChild(ds);
            })();

          </script>
          <!-- 多说公共JS代码 end -->
        </div>
      </div>
      <footer id="footer">
        <div class="outer">
          <div id="footer-info">
            <div class="footer-left">
              &copy; 2016 MeteoriteY
            </div>
            <div class="footer-right">
              Designed by
              <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">@Litten</a> , modified by
              <a href="https://github.com/MeteoriteY/hexo-theme-papers" target="_blank">@MeteoriteY</a>
            </div>
          </div>
        </div>
      </footer>

    </div>
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

    <script>
      var yiliaConfig = {
        fancybox: true,
        mathjax: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        open_in_new: false
      }

    </script>
    <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
    <script src="/js/main.js" type="text/javascript"></script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], ["\\(","\\)"] ], processEscapes:
      true, skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      } }); MathJax.Hub.Queue(function() { var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i
      < all.length; i +=1 ) { all[i].SourceElement().parentNode.className +=' has-jax'
                                                                                      ; } }); </script>

        <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">


        </script>

  </div>
</body>

</html>
